<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-10TP3T8LQ8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-10TP3T8LQ8');
    </script>

    <meta charset="UTF-8"/>
    <meta name="description" content="CycleTrack is a free system for tracking and visualizing medical school applications while crowdsourcing data to make admissions more transparent." />
    <meta name="viewport" content="width=device-width, initial-scale = 1"/>

    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}" />
    <!--<link rel="stylesheet" href="//code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css">-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

    <title>{% block title %}CycleTrack{% endblock %}</title>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='/js/functions.js') }}"></script>
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <!--<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>-->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
    <!--<script>
        $(function () {
          $('[data-toggle="tooltip"]').tooltip()
        })
    </script>-->
    {% block additional_js %}{% endblock %}
</head>

<body class="d-flex flex-column min-vh-100">
<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
        <a class="navbar-brand" href="{{ url_for('pages.index') }}">
            <img src="{{ url_for('static', filename='images/Docs2Be.webp') }}" height="30px" width="auto"/>
            CycleTrack
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbar">
            <div class="navbar-nav">
                <a class="nav-item nav-link" id="home" href="{{ url_for('pages.index') }}">Home</a>
                {% if user.is_authenticated %}
                <a class="nav-item nav-link" id="dashboard" href="{{ url_for('dashboard.cycles') }}">Dashboard</a>
                {% endif %}
                <a class="nav-item nav-link" id="explorer" href="{{ url_for('explorer.explorer_home') }}">Explorer</a>
                {% if user.is_authenticated %}
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
                       data-bs-toggle="dropdown" aria-expanded="false">
                        Account
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <li><a class="dropdown-item" href="{{ url_for('authentication.settings') }}">Settings</a></li>
                        <li><a class="dropdown-item" href="{{ url_for('authentication.logout') }}">Logout</a></li>
                    </ul>
                </li>
                {% else %}
                <a class="nav-item nav-link" id="login" href="{{ url_for('authentication.login') }}">Login</a>
                <a class="nav-item nav-link" id="signUp" href="{{ url_for('authentication.register') }}">Register</a>
                {% endif %}
            </div>
        </div>
    </div>
</nav>

{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category, message in messages %}
{% if category == 'error' %}
<div class="alert alert-danger alert-dismissable fade show" role="alert" style="margin: 0;">
    <div class="container">
        {{ message }}
        <button type="button" class="btn-close" data-dismiss="alert" aria-label="Close" style="float: right"></button>
    </div>
</div>
{% elif category == 'warning' %}
<div class="alert alert-warning alert-dismissable fade show" role="alert" style="margin: 0;">
    <div class="container">
        {{ message }}
        <button type="button" class="btn-close" data-dismiss="alert" aria-label="Close" style="float: right"></button>
    </div>
</div>
{% else %}
<div class="alert alert-success alert-dismissable fade show" role="alert" style="margin: 0;">
    <div class="container">
        {{ message }}
        <button type="button" class="btn-close" data-dismiss="alert" aria-label="Close" style="float: right"></button>
    </div>
</div>
{% endif %}
{% endfor %}
{% endif %}
{% endwith %}


{% block content %}
{% endblock %}

<!-- FOOTER -->
<footer class="py-3 my-4 mt-auto" id="footer">
    <div class="container">
        <p class="text-center" style="margin-bottom: 0px">
            <a href="https://github.com/RunningMSN/CycleTrack" target="_blank">
                <i class="bi bi-github text-muted" style="font-size: 1.5rem"></i>
            </a>
        </p>
        <p class="text-center">
            <a href="{{ url_for('pages.privacy') }}" class="text-muted">Privacy Policy</a> |
            <a href="{{ url_for('pages.terms') }}" class="text-muted">Terms and Conditions</a> |
            <a href="{{ url_for('pages.changelog') }}" class="text-muted">Changelog</a>
        </p>
    </div>


    <button type="button" class="btn rounded-circle btn-sm" data-toggle="modal" data-target="#support-modal" style="position: fixed; bottom: 20px; right: 20px; font-size: 2em; color: #fb94c5">
        <i class="bi bi-heart-fill"></i>
    </button>

    <div class="modal fade" id="support-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Support CycleTrack</h5>
                    <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Making medical school admissions more transparent and accessible for
                        <span style="text-decoration:underline;">all applicants</span> is our mission. There are many
                        ways to support our platform.
                    </p>
                    <a href="https://www.paypal.com/donate/?hosted_button_id=6LVAD9FZQVQ7J"
                       class="btn btn-outline-primary" style="width: 100%; margin-top:10px">
                        <h5>Contribute Financially</h5>
                        <p>We currently pay the cost of site upkeep from our MD-PhD program living stipend. Any
                            contribution will support our mission, and help keep CycleTrack available for future
                            applicants.
                        </p>
                        <p>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-paypal" viewBox="0 0 16 16">
                                <path d="M14.06 3.713c.12-1.071-.093-1.832-.702-2.526C12.628.356 11.312 0 9.626 0H4.734a.7.7 0 0 0-.691.59L2.005 13.509a.42.42 0 0 0 .415.486h2.756l-.202 1.28a.628.628 0 0 0 .62.726H8.14c.429 0 .793-.31.862-.731l.025-.13.48-3.043.03-.164.001-.007a.35.35 0 0 1 .348-.297h.38c1.266 0 2.425-.256 3.345-.91q.57-.403.993-1.005a4.94 4.94 0 0 0 .88-2.195c.242-1.246.13-2.356-.57-3.154a2.7 2.7 0 0 0-.76-.59l-.094-.061ZM6.543 8.82a.7.7 0 0 1 .321-.079H8.3c2.82 0 5.027-1.144 5.672-4.456l.003-.016q.326.186.548.438c.546.623.679 1.535.45 2.71-.272 1.397-.866 2.307-1.663 2.874-.802.57-1.842.815-3.043.815h-.38a.87.87 0 0 0-.863.734l-.03.164-.48 3.043-.024.13-.001.004a.35.35 0 0 1-.348.296H5.595a.106.106 0 0 1-.105-.123l.208-1.32z"/>
                            </svg>
                            Donate via Paypal
                        </p>
                    </a>
                    <a href="mailto:admin@cycletrack.org"
                       class="btn btn-outline-info" style="width: 100%; margin-top:10px">
                        <h5>Contribute Your Time</h5>
                        <p>You can support our mission by contributing to the CycleTrack project. Any students
                            (coding or no coding experience) are welcome to contribute. To learn
                            about opportunities to participate, please send us an email at admin@cycletrack.org.
                        </p>
                        <p>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-envelope" viewBox="0 0 16 16">
                                <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"/>
                            </svg>
                            Send us an Email
                        </p>
                    </a>
                    <button
                            class="btn btn-outline-success" style="width: 100%; margin-top:10px">
                        <h5>Contribute Your Network</h5>
                        <p>We'd love our free resources to be available to all applicants! Sharing our platform
                            with friends and other applicants on social media or by word-of-mouth can help support
                            our mission.
                        </p>
                    </button>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- COOKIES MESSAGE -->
{% if not cookies_check() %}
<footer id="cookie-footer" class="cookie-footer">
    {# show a cookie consent banner #}
    <div id="cookie-consent-container" class="container">
        <div class="row">
            <div class="col-auto">
                <h3>Cookies |</h3>
            </div>
            <div class="col-9">
                    This website uses cookies to ensure the best experience on our website. We only use cookies for site
            functionality and analytics. To find out more, read our <a href="{{ url_for('pages.privacy') }}" class="text-muted">Privacy Policy</a>.
            </div>
            <div class="col-auto">
                <button id="cookie-consent" class="btn btn-outline-dark">Agree</button>
            </div>
        </div>
    </div>
    <script>
                var fn = function () {
                    document.cookie = "cookie_consent=true";
                    document.getElementById('cookie-consent-container').hidden = true;
                    document.getElementById('cookie-footer').classList.add("d-none");
                };
                document.getElementById('cookie-consent').onclick = fn;
    </script>
</footer>
{% endif %}

</body>
</html>


<style>
    .cookie-footer {
        position: sticky;
        width: 100%;
        background-color: #FFB6C1;
        bottom: 0;
        padding-top: 1%;
        padding-bottom: 1%;
    }
</style>